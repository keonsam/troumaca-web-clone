<div class="content-i asset-container">

<!--  <asset-type-top-menu></asset-type-top-menu> -->

  <div class="content-box">
    <div class="row">
      <div class="col-sm-12">
        <div class="element-wrapper">
          <div class="element-box">
            <form [formGroup]="assetTypeEditForm" id="formValidate">
              <h5 class="form-header">
                Edit Asset Type Form
              </h5>

              <div [hidden]="doNotDisplayFailureMessage" class="alert alert-danger">Failed to edit asset type class.</div>
              <div [hidden]="doNotDisplayFailureMessage2" class="alert alert-danger">Failed to edit values.</div>

              <fieldset class="form-group">
                <div class="form-group">
                  <label for="Name">Name</label><input class="form-control" formControlName="name" placeholder="Name" required="required" type="text">
                  <div [hidden]="name.valid || name.pristine" class="alert alert-danger">Invalid name.</div>
                </div>
              </fieldset>

              <fieldset class="form-group">
                <div class="form-group" [class]="(assetTypeClassId.valid) ? 'ng2-completer-valid':'ng2-completer-invalid'">
                  <label for="asset type class">Asset Type Class</label>
                  <ng2-completer [datasource]="assetTypeClassIdDataService"
                                 [minSearchLength]="0"
                                 [maxChars]="4"
                                 [inputClass]="'form-control'"
                                 [placeholder]="'Select an Asset Type Class'"
                                 [matchClass]="'match'"
                                 formControlName="assetTypeClassId"
                                 [autofocus]="true"
                                 [clearUnselected]="true"
                                 [fillHighlighted]="false"
                                 [openOnClick]="true"
                                 [textSearching]="false"
                                 (selected)="onAssetTypeClassIdSelect($event)"
                                  required>
                  </ng2-completer>
                  <div [hidden]="assetTypeClassId.valid || assetTypeClassId.pristine" class="alert alert-danger">Select an Asset Type Class.</div>
                </div>
              </fieldset>

              <fieldset class="form-group">
                <div class="form-group">
                  <label for="Model Number">Model Number</label><input class="form-control" formControlName="modelNumber" placeholder="Model Number" type="text">
                  <div [hidden]="modelNumber.valid || modelNumber.pristine" class="alert alert-danger">Invalid model number.</div>
                </div>
              </fieldset>

              <fieldset class="form-group">
                <div class="form-group">
                  <label for="Material Code">Material Code</label><input class="form-control" formControlName="materialCode" placeholder="Material Code" type="text">
                  <div [hidden]="materialCode.valid || materialCode.pristine" class="alert alert-danger">Invalid material code.</div>
                </div>
              </fieldset>

              <fieldset class="form-group">
                <div class="form-group">
                  <label for="unit of measurement">Unit Of Measurement</label>
                  <ng2-completer [datasource]="unitOfMeasureIdDataService"
                                 [inputClass]="'form-control form-control-inline'"
                                 [minSearchLength]="0"
                                 [maxChars]="4"
                                 [inputClass]="'form-control'"
                                 [placeholder]="'Select an Unit of Measurement'"
                                 [matchClass]="'match'"
                                 formControlName="unitOfMeasureId"
                                 [autofocus]="true"
                                 [clearUnselected]="true"
                                 [openOnClick]="true"
                                 [textSearching]="false"
                                 (selected)="onUnitOfMeasureIdSelect($event)">
                  </ng2-completer>
                </div>
              </fieldset>

              <fieldset class="form-group">
                <div class="form-group">
                  <label for="description">Description</label><input class="form-control" formControlName="description" placeholder="Description" type="text">
                  <div [hidden]="description.valid || description.pristine" class="alert alert-danger">Invalid description.</div>
                </div>
              </fieldset>

            </form>

            <form [formGroup]="attributeEditForm" >
              <fieldset *ngFor="let assigned of assignedAttributes" class="form-group">
                <div *ngIf="assigned.dataTypeId == '61ae91b0-e01f-414b-98c6-2e5da6b12ff0'; else normalInput" class="form-check">
                  <label class="form-check-label"><input class="form-check-input" formControlName="{{assigned.attributeId}}" type="checkbox" [required]="assigned.required">{{assigned.attributeName}}</label>
                  <div [hidden]="assigned.attributeId +'.valid' || assigned.attributeId +'.pristine'" class="alert alert-danger">Select {{assigned.attributeName}}.</div>
                </div>

                <ng-template #normalInput>
                  <div class="form-group">
                    <label for="{{assigned.attributeName}}">{{assigned.attributeName}}</label><input class="form-control" formControlName="{{assigned.attributeId}}" placeholder="Enter Value" [type]="onType(assigned.dataTypeId)" [required]="assigned.required">
                    <div [hidden]="assigned.attributeId +'.valid' || assigned.attributeId +'.pristine'" class="alert alert-danger">Invalid {{assigned.attributeName}}.</div>
                  </div>
                </ng-template>
              </fieldset>
            </form>

              <div class="form-buttons-w">
                <button class="btn btn-primary button1" [disabled]="!assetTypeEditForm.valid || !attributeEditForm.valid" (click)="onCreate()" type="button"> Submit</button>
                <button class="btn btn-outline-danger" type="cancel" (click)="cancel()"> Cancel</button>
              </div>

          </div>
        </div>
      </div>
    </div>
  </div>

</div>
