<div class="content-i">

  <!-- <asset-top-menu></asset-top-menu> -->

  <div class="content-box">
    <div class="row">
      <div class="col-sm-12">
        <div class="element-wrapper">
          <div class="element-box">
            <form [formGroup]="assetEditForm" (ngSubmit)="onCreate()" id="formValidate">
              <h5 class="form-header">
                Edit Asset Form
              </h5>

              <div [hidden]="doNotDisplayFailureMessage" class="alert alert-danger">Failed to edit asset.</div>

              <fieldset class="form-group">
                <div class="form-group">
                  <label for="asset kind">Asset Kind</label><br/>
                  <select class="form-control" formControlName="assetKindId" name="assetKind" required>
                    <option value="" disabled selected>Select an Asset Kind</option>
                    <option *ngFor="let assetKind of assetKinds" [value]="assetKind.assetKindId">{{assetKind.name}}</option>
                  </select>
                  <div [hidden]="assetKindId.valid || assetKindId.pristine" class="alert alert-danger">Please Select an Asset Kind.</div>
                </div>
              </fieldset>

              <fieldset class="form-group">
                <div class="form-group" [class]="(assetType.valid) ? 'ng2-completer-valid':'ng2-completer-invalid'">
                  <label for="asset type">Asset Type</label>
                  <ng2-completer [datasource]="assetTypeDataService"
                                 [minSearchLength]="0"
                                 [maxChars]="4"
                                 [inputClass]="'form-control'"
                                 [placeholder]="'Select an Asset Type'"
                                 [matchClass]="'match'"
                                 formControlName="assetType"
                                 [autofocus]="true"
                                 [clearUnselected]="true"
                                 [fillHighlighted]="false"
                                 [openOnClick]="true"
                                 [textSearching]="false"
                                 (selected)="onAssetTypeSelect($event)"
                                 required>
                  </ng2-completer>
                  <div [hidden]="assetType.valid || assetType.pristine" class="alert alert-danger">Please Select an Asset Type.</div>
                </div>

              </fieldset>

              <fieldset *ngIf="isDiscreteItem()" class="form-group">
                <div class="form-group">
                  <label for="serial number">Serial Number</label><input class="form-control" formControlName="serialNumber"  data-error="Your email address is invalid" placeholder="Serial Number" type="text">
                  <div [hidden]="serialNumber.valid || serialNumber.pristine" class="alert alert-danger">Please Enter a Serial Number.</div>
                </div>
              </fieldset>

              <fieldset *ngIf="isInventory()" class="form-group">
                <div class="form-group">
                  <label for="quantity">Quantity</label><input class="form-control" formControlName="quantity" data-error="Your email address is invalid" placeholder="Quantity" type="number">
                  <div [hidden]="quantity.valid || quantity.pristine" class="alert alert-danger">Please Enter an Quantity.</div>
                </div>
              </fieldset>

              <fieldset *ngIf="isInventory()" class="form-group ng2-completer">
                <div class="form-group">
                  <label for="unit of measure">Unit Of Measure</label>
                  <ng2-completer [datasource]="unitOfMeasureDataService"
                                 [minSearchLength]="0"
                                 [maxChars]="4"
                                 [inputClass]="'form-control'"
                                 [placeholder]="'Select an Unit Of Measure'"
                                 [matchClass]="'match'"
                                 formControlName="unitOfMeasure"
                                 [autofocus]="true"
                                 [clearUnselected]="true"
                                 [fillHighlighted]="false"
                                 [openOnClick]="true"
                                 [textSearching]="false"
                                 (selected)="onUnitOfMeasureSelect($event)">
                  </ng2-completer>
                </div>
              </fieldset>

              <fieldset class="form-group">
                <div class="form-group">
                  <label for="assignee">Assignee</label>
                  <ng2-completer [datasource]="personDataService"
                                 [minSearchLength]="0"
                                 [maxChars]="4"
                                 [inputClass]="'form-control'"
                                 [placeholder]="'Select a Person'"
                                 [matchClass]="'match'"
                                 formControlName="person"
                                 [autofocus]="true"
                                 [clearUnselected]="true"
                                 [fillHighlighted]="false"
                                 [openOnClick]="true"
                                 [textSearching]="false"
                                 (selected)="onPersonSelect($event)">
                  </ng2-completer>
                </div>
              </fieldset>

              <fieldset class="form-group">
                <div class="form-group">
                  <label for="site">Site</label>
                  <ng2-completer [datasource]="siteDataService"
                                 [minSearchLength]="0"
                                 [maxChars]="4"
                                 [inputClass]="'form-control'"
                                 [placeholder]="'Select a Site'"
                                 [matchClass]="'match'"
                                 formControlName="site"
                                 [autofocus]="true"
                                 [clearUnselected]="true"
                                 [fillHighlighted]="false"
                                 [openOnClick]="true"
                                 [textSearching]="false"
                                 (selected)="onPhysicalSiteSelect($event)">
                  </ng2-completer>
                </div>
              </fieldset>

              <fieldset class="form-group">
                <div class="form-group">
                  <label for="description">Description</label><textarea class="form-control" formControlName="description" placeholder="Description" rows="3"></textarea>
                  <div [hidden]="description.valid || description.pristine" class="alert alert-danger">Invalid description.</div>
                </div>
              </fieldset>

              <div class="form-buttons-w">
                <button class="btn btn-primary button1" [disabled]="!assetEditForm.valid" type="submit"> Save</button>
                <button class="btn btn-outline-danger" type="cancel" (click)="cancel()"> Cancel</button>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
